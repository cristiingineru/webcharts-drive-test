{"version":3,"sources":["niDataPipeline.js","niGraphDataPipeline.js","niChartDataPipeline.js","ni-cartesian-graph-base.js","ni-cartesian-graph.js","ni-chart.js","ni-intensity-graph.js","ni-cartesian-axis.js","ni-color-scale.js","ni-cartesian-plot.js","ni-cartesian-plot-renderer.js","ni-cursor.js"],"names":["NationalInstruments","HtmlVI","DataPipeline","decimateAW","series","start","end","buckets","startIndex","step","endIndex","decimate1D","i","index","iindex","length","data","datapoints","points","res","newBucket","max","Infinity","maxIndex","min","minIndex","Math","floor","nextBucket","prepareBucket","GraphDataPipeline","DataTypesEnum","Object","freeze","niAnalogWaveform","niAnalogWaveformArray","XYClusterOfArrays","XYArrayOfClusters","XYArrayOfClusterOfArrays","XYArrayOfArrayOfClusters","oneDimensionNumericArray","twoDimensionsNumericArray","oneDimensionComplexArray","twoDimensionsComplexArray","empty","unknown","graphDataPipeline","ComplexNumber","window","NIComplex","AnalogWaveform","NIAnalogWaveform","proto","prototype","toFlot","graph","value","valueType","convertToFlotFormat","isWaveform","Array","isArray","Y","isWaveformArray","isXYClusterOfArrays","keys","every","key","isXYArrayOfClusters","isXYArrayOfClusterOfArrays","isXYArrayOfArrayOfClusters","is1DComplexArray","is2DComplexArray","inferDataType","waveformToFlotFormat","waveform","flatdata","t0","toAbsoluteTime","dt","decimate","xyClusterOfArraysToFlotFormat","xydata","result","count","push","xyArrayOfClustersToFlotFormat","xyArrayOfClusterOfArraysToFlotFormat","xyDataArray","map","xyArrayOfArrayOfClustersToFlotFormat","dataValuesArray2D","j","dataValuesArray","channelName","updatePlotName","parseFromString","NI_SUPPORT","NISupport","ChartDataPipeline","loadValueIntoHistoryBuffer","historyBuffer","appendArray","width","setWidth","col","error","this","chart","Elements","CartesianGraphBase","child","parent","$","Globals","jQuery","inheritFromParent","plotsUpdatesEnabled","graphConfigPending","getSettings","settings","lines","show","lineWidth","shadowSize","axisLabels","xaxes","yaxes","zoom","interactive","trigger","pan","selection","mode","grid","backgroundColor","configureGraph","cartesianGraphSettings","plotAreaMargin","undefined","margin","JSON","parse","cursors","axes","axis","a","getViewConfig","position","cursor","c","graphTools","allowsScrollWheelZoom","allowsPan","updateGraphConfig","childElement","graphdiv","cartesianGraphData","createData","plots","parsedValue","setHover","plot","log","message","that","getCursors","forEach","cookie","setCursor","onCursorUpdates","event","cursordata","target","updateCursorElement","throttlePlotUpdates","throttle","updateGraphConfigWhenPlotsUpdatesAreEnabled","name","label","dataSeries","plotConfig","setData","setupGrid","draw","updateData","addAllProperties","targetPrototype","call","addProperty","propertyName","defaultValue","fireEvent","addNonSignalingProperty","isElementValueProperty","createdCallback","plotLegend","cursorLegend","scaleLegend","tooltip","findGraphItems_early","myChildItems","axisItemName","CartesianPlot","elementInfo","tagName","toUpperCase","plotItemName","CartesianAxis","children","forceResize","size","clearTextCache","resize","createGraph","document","createElement","style","height","appendChild","id","uniqueId","className","e","bind","pos","item","seriesIndex","x","datapoint","y","hoverFormat","str","format","html","css","top","pageY","offsetTop","left","pageX","offsetLeft","fadeIn","hide","getPlaceholder","attachedCallback","graphChildElements","firstCall","addGraphItemListeners","attachLegends","childElements","addEventListener","evt","detail","element","splice","notifyPlotLegend","notifyScaleLegend","notifyCursorLegend","originalSource","registerPlotLegend","eventConfig","bubbles","cancelable","dispatchEvent","CustomEvent","registerCursorLegend","registerScaleLegend","registerGraphTools","on","ranges","notifyGraphTools","graphElement","legendTags","parentElement","myLegends","indexOf","graphName","niControlId","legend","attachToGraph","propertyUpdated","args","arguments","replace","match","number","parseInt","len1","toFixed","len2","toExponential","graphData","graphSettings","isHoverable","hoverable","Visual","CartesianGraph","defineElementInfo","Chart","global","chartDataPipeline","setHistoryBuffer","getHistoryBuffer","HistoryBuffer","bufferSize","IntensityGraph","ScaleTypeEnum","COLORSCALE","COLORSCALEGRADIENT","SCALETYPE_ENUM","h","w","parsedData","dataRange","dataMin","dataMax","sqrt","tempMin","tempMax","buf","autoScaleColor","intensitygraph","colorScaleAutoScale","colorScaleMin","colorScaleMax","colorScaleLabel","colorScaleShow","colorScaleFont","gradient","defaultData","isColorScale","type","markers","color","autoScale","range","lowColor","highColor","axisLabel","font","showMinorTicks","showTicks","gridLines","reserveSpace","labelWidth","labelHeight","graphdata","NINumericFormatters","escapeHtmlString","string","entityMap","&","<",">","\"","'","/","`","String","s","isTimeAxis","toFlotTimeFormat","nullTickFormatter","siTickFormatter","num","toSiNotation","tickDecimals","roundUsing","roundFunction","precisionDigits","precision","pow","tempNumber","getDecTickFormatter","options","len","slice","toDecPrecisionNotation","toDecFixedNotation","chooseTickFormatter","showTickLabels","colonMarkIndex","decFormatTypeSubstring","_parentGraph","sendEventToParentGraph","detachedCallback","setFont","fontSize","fontFamily","fontWeight","fontStyle","textDecoration","currStyle","getComputedStyle","flotConfig","showLabel","axisPosition","minimum","maximum","logScale","timeformat","tickFormatter","parseFloat","weight","family","getFlotAxis","getAxes","filter","scaleOnce","datamin","datamax","syncWithFlot","_autoScale","_minimum","_maximum","ColorScale","colorScaleAxis","getYAxes","defaultPlotConfig","addPlotItemListeners","plotRenderer","enableHover","CartesianPlotRenderer","_parentPlot","sendEventToParentPlot","toFlotLineStyle","areaFillOpacity","lineStroke","pointColor","areaFill","barFill","fill","zero","dashes","lineStyle","radius","pointSize","symbol","pointShape","bars","barWidth","align","Cursor","_x","relativeX","_y","relativeY","crosshairStyle","showValuesRelativeToSeries","showValue","cursorColor","snapToPlot","snapToData","targetShape"],"mappings":"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","file":"webcharts.min.js","sourcesContent":["//****************************************\n// GraphDataPipeline\n// common utility functions for conversion of LabVIEW datatypes flot data series\n// used by graphs and charts.\n// National Instruments Copyright 2016\n//****************************************\n\n(function () {\n    'use strict';\n\n    NationalInstruments.HtmlVI.DataPipeline = {};\n\n    NationalInstruments.HtmlVI.DataPipeline.decimateAW = function (series, start, end, buckets) {\n        var startIndex = (start - series.start) / series.step,\n        endIndex = (end - series.start) / series.step;\n\n        return NationalInstruments.HtmlVI.DataPipeline.decimate1D(series, startIndex, endIndex, buckets);\n    }\n\n    NationalInstruments.HtmlVI.DataPipeline.decimate1D = function (series, start, end, buckets) {\n        var i,\n            j,\n            index = 0,\n            iindex = 0,\n            length = 0,\n            step = buckets / (end - start),\n            data = series.datapoints.points,\n            res = [],\n            newBucket = true,\n            max = -Infinity, maxIndex= -1,\n            min = Infinity, minIndex= -1;\n\n        var startIndex = Math.min(Math.max(0, Math.floor(start)), data.length/2);\n        var endIndex = (end > 0) ? Math.min((data.length/2), Math.floor(end+2)) : 0;\n\n        var nextBucket = function () {\n            if (minIndex === maxIndex) {\n                res[iindex] = minIndex;\n                res[iindex + 1] = min;\n                iindex += 2;\n            } else {\n                if (minIndex < maxIndex) {\n                    res[iindex] = minIndex;\n                    res[iindex + 1] = min;\n                    res[iindex + 2] = maxIndex;\n                    res[iindex + 3] = max;\n                } else {\n                    res[iindex] = maxIndex;\n                    res[iindex + 1] = max;\n                    res[iindex + 2] = minIndex;\n                    res[iindex + 3] = min;\n                }\n                iindex += 4;\n            }\n        }\n\n        var prepareBucket = function () {\n            max = -Infinity;\n            maxIndex= -1;\n            min = Infinity;\n            minIndex= -1;\n        }\n\n        length = endIndex - startIndex;\n\n        if (buckets > length) {\n            step = 1;\n        }\n\n        for (i = startIndex * 2; i < endIndex * 2; i += 2) {\n            if (newBucket) {\n                prepareBucket();\n                newBucket = false;\n            }\n\n            if (data[i+1] < min) {\n                minIndex = data[i];\n                min = data[i+1];\n            }\n            if (data[i+1] > max) {\n                maxIndex = data[i];\n                max = data[i+1];\n            }\n\n            if (Math.floor(index) !== Math.floor(index + step)) {\n                nextBucket();\n                newBucket = true;\n            }\n\n            index += step;\n        }\n\n        if (!newBucket) {\n            nextBucket();\n        }\n\n        return res;\n    }\n\n}());\n","//****************************************\n// GraphDataPipeline\n// Utility functions that convert LabVIEW datatypes allowed for graphs to flot data series\n// National Instruments Copyright 2016\n//****************************************\n\n(function () {\n    'use strict';\n\n    // Static private reference aliases\n    // None\n\n    NationalInstruments.HtmlVI.DataPipeline.GraphDataPipeline = function () {\n        // Private variables\n    };\n\n    var DataTypesEnum = Object.freeze({\n        niAnalogWaveform: 'niAnalogWaveform',\n        niAnalogWaveformArray: 'niAnalogWaveformArray',\n        XYClusterOfArrays: 'XYClusterOfArrays',\n        XYArrayOfClusters: 'XYArrayOfClusters',\n        XYArrayOfClusterOfArrays: 'XYArrayOfClusterOfArrays',\n        XYArrayOfArrayOfClusters: 'XYArrayOfArrayOfClusters',\n        oneDimensionNumericArray: '1DNumericArray',\n        twoDimensionsNumericArray: '2DNumericArray',\n        oneDimensionComplexArray: '1DComplexArray',\n        twoDimensionsComplexArray: '2DComplexArray',\n        empty: 'empty',\n        unknown: 'unknown'\n    });\n\n    var graphDataPipeline = NationalInstruments.HtmlVI.DataPipeline.GraphDataPipeline;\n    var ComplexNumber = window.NIComplex || NationalInstruments.HtmlVI.NIComplex;\n    var AnalogWaveform = window.NIAnalogWaveform || NationalInstruments.HtmlVI.NIAnalogWaveform;\n\n    var proto = graphDataPipeline.prototype;\n\n    // Public prototype methods\n    proto.toFlot = function (graph, value, valueType) {\n        return convertToFlotFormat(graph, value, valueType);\n    };\n\n    // Private methods\n    var isWaveform = function (value) {\n        return (!Array.isArray(value)) && typeof value === 'object' && Array.isArray(value.Y);\n    };\n\n    var isWaveformArray = function (value) {\n        return (Array.isArray(value)) && isWaveform(value[0]);\n    };\n\n    var isXYClusterOfArrays = function (value) {\n        return (!Array.isArray(value)) && typeof value === 'object' &&\n            Object.keys(value).length === 2 &&\n            Object.keys(value).every(function (key) {\n            return Array.isArray(value[key]);\n        });\n    };\n\n    var isXYArrayOfClusters = function (value) {\n        return (Array.isArray(value)) && (!Array.isArray(value[0])) &&\n            typeof value[0] === 'object' && Object.keys(value[0]).length === 2 &&\n            typeof value[0][Object.keys(value[0])[0]] === 'number';\n    };\n\n    var isXYArrayOfClusterOfArrays = function (value) {\n        return Array.isArray(value) && isXYClusterOfArrays(value[0]);\n    };\n\n    var isXYArrayOfArrayOfClusters = function (value) {\n        return Array.isArray(value) && isXYArrayOfClusters(value[0]);\n    };\n\n    var is1DComplexArray = function (value) {\n        return Array.isArray(value) && typeof value[0] === 'string';\n    };\n\n    var is2DComplexArray = function (value) {\n        return Array.isArray(value) && Array.isArray(value[0]) && typeof value[0][0] === 'string';\n    };\n\n    var inferDataType = function (data) {\n        if (isWaveform(data)) {\n            return DataTypesEnum.niAnalogWaveform;\n        }\n\n        if (isWaveformArray(data)) {\n            return DataTypesEnum.niAnalogWaveformArray;\n        }\n\n        if (isXYClusterOfArrays(data)) {\n            return DataTypesEnum.XYClusterOfArrays;\n        }\n\n        if (isXYArrayOfClusters(data)) {\n            return DataTypesEnum.XYArrayOfClusters;\n        }\n\n        if (!Array.isArray(data)) {\n            return DataTypesEnum.unknown;\n        }\n\n        if (data.length === 0) {\n            return DataTypesEnum.empty;\n        }\n\n        if (typeof data[0] === 'number') {\n            return DataTypesEnum.oneDimensionNumericArray;\n        }\n\n        if (isXYArrayOfClusterOfArrays(data)) {\n            return DataTypesEnum.XYArrayOfClusterOfArrays;\n        }\n\n        if (isXYArrayOfArrayOfClusters(data)) {\n            return DataTypesEnum.XYArrayOfArrayOfClusters;\n        }\n\n        if (is1DComplexArray(data)) {\n            return DataTypesEnum.oneDimensionComplexArray;\n        }\n\n        if (is2DComplexArray(data)) {\n            return DataTypesEnum.twoDimensionsComplexArray;\n        }\n\n        if (Array.isArray(data[0])) {\n            return DataTypesEnum.twoDimensionsNumericArray;\n        }\n\n        return DataTypesEnum.unknown;\n    };\n\n    proto.inferDataType = inferDataType;\n    \n    var waveformToFlotFormat = function (waveform) {\n        return {flatdata: true, data: waveform.Y, start: waveform.t0.toAbsoluteTime(), step: waveform.dt, decimate: NationalInstruments.HtmlVI.DataPipeline.decimateAW};\n    };\n\n    var xyClusterOfArraysToFlotFormat = function (xydata) {\n        var result = [];\n        var keys = Object.keys(xydata);\n        var count = Math.min(xydata[keys[0]].length, xydata[keys[1]].length);\n\n        for (var i = 0; i < count; i++) {\n            result.push([xydata[keys[0]][i], xydata[keys[1]][i]]);\n        }\n\n        return result;\n    };\n\n    var xyArrayOfClustersToFlotFormat = function (xydata) {\n        var result = [];\n\n        var keys = Object.keys(xydata[0] || {});\n\n        for (var i = 0; i < xydata.length; i++) {\n            result.push([xydata[i][keys[0]], xydata[i][keys[1]]]);\n        }\n\n        return result;\n    };\n\n    var xyArrayOfClusterOfArraysToFlotFormat = function (xyDataArray) {\n        return xyDataArray.map(function (xydata) {\n            return xyClusterOfArraysToFlotFormat(xydata);\n        });\n    };\n\n    var xyArrayOfArrayOfClustersToFlotFormat = function (xyDataArray) {\n        return xyDataArray.map(function (xydata) {\n            return xyArrayOfClustersToFlotFormat(xydata);\n        });\n    };\n\n    var convertToFlotFormat = function (graph, data, valueType) {\n        // jshint unused: vars\n        var dataValuesArray = [];\n        var dataValuesArray2D, waveform;\n\n        var i, j;\n\n        switch (inferDataType(data)) {\n            case DataTypesEnum.niAnalogWaveform:\n                if (data instanceof AnalogWaveform) {\n                    waveform = data;\n                } else {\n                    waveform = new AnalogWaveform(data);\n                }\n                if (typeof waveform.channelName === 'string' && waveform.channelName.length > 0) {\n                    graph.updatePlotName(0, waveform.channelName);\n                }\n\n                return [waveformToFlotFormat(waveform)];\n            case DataTypesEnum.niAnalogWaveformArray:\n                dataValuesArray2D = [];\n                for (j = 0; j < data.length; j++) {\n                    if (data[j] instanceof AnalogWaveform) {\n                        waveform = data[j];\n                    } else {\n                        waveform = new AnalogWaveform(data[j]);\n                    }\n                    if (typeof waveform.channelName === 'string' && waveform.channelName.length > 0) {\n                        graph.updatePlotName(j, waveform.channelName);\n                    }\n\n                    dataValuesArray2D.push(waveformToFlotFormat(waveform));\n                }\n\n                return dataValuesArray2D;\n            case DataTypesEnum.XYClusterOfArrays:\n                return [xyClusterOfArraysToFlotFormat(data)];\n            case DataTypesEnum.XYArrayOfClusters:\n                return [xyArrayOfClustersToFlotFormat(data)];\n            case DataTypesEnum.XYArrayOfClusterOfArrays:\n                return xyArrayOfClusterOfArraysToFlotFormat(data);\n            case DataTypesEnum.XYArrayOfArrayOfClusters:\n                return xyArrayOfArrayOfClustersToFlotFormat(data);\n            case DataTypesEnum.oneDimensionNumericArray:\n                return [{flatdata: true, data: data, start: 0, step: 1, decimate: NationalInstruments.HtmlVI.DataPipeline.decimate1D}];\n            case DataTypesEnum.twoDimensionsNumericArray:\n                dataValuesArray2D = [];\n                for (j = 0; j < data.length; j++) {\n                    dataValuesArray = [];\n\n                    dataValuesArray2D.push({flatdata: true, start: 0, step: 1, data: data[j], decimate: NationalInstruments.HtmlVI.DataPipeline.decimate1D});\n                }\n\n                return dataValuesArray2D;\n            case DataTypesEnum.oneDimensionComplexArray:\n                for (i = 0; i < data.length; i++) {\n                    dataValuesArray.push(ComplexNumber.prototype.parseFromString(data[i]));\n                }\n\n                return [dataValuesArray];\n            case DataTypesEnum.twoDimensionsComplexArray:\n                dataValuesArray2D = [];\n                for (j = 0; j < data.length; j++) {\n                    dataValuesArray = [];\n                    for (i = 0; i < data[j].length; i++) {\n                        dataValuesArray.push(ComplexNumber.prototype.parseFromString(data[j][i]));\n                    }\n\n                    dataValuesArray2D.push(dataValuesArray);\n                }\n\n                return dataValuesArray2D;\n            default:\n        }\n\n        return dataValuesArray2D || [dataValuesArray];\n    };\n}());\n","//****************************************\n// ChartDataPipeline\n// Utility functions that load LabVIEW datatypes allowed for charts into history\n// buffers\n// National Instruments Copyright 2016\n//****************************************\n\n(function () {\n    'use strict';\n\n    // Static private reference aliases\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n\n    NationalInstruments.HtmlVI.DataPipeline.ChartDataPipeline = function () {\n        // Private variables\n    };\n\n    var graphDataPipeline = NationalInstruments.HtmlVI.DataPipeline.GraphDataPipeline;\n\n    var proto = NationalInstruments.HtmlVI.DataPipeline.ChartDataPipeline.prototype;\n\n    // Public prototype methods\n    proto.loadValueIntoHistoryBuffer = function (value, historyBuffer) {\n        switch (graphDataPipeline.prototype.inferDataType(value)) {\n            case '1DNumericArray':\n                historyBuffer.appendArray(value);\n                break;\n            case '2DNumericArray':\n                var width = value.length;\n                historyBuffer.setWidth(width);\n                for (var i = 0; i < value[0].length; i++) {\n                    var col = [];\n                    for (var j = 0; j < width; j++) {\n                        col[j] = value[j][i];\n                    }\n                    historyBuffer.push(col);\n                }\n                break;\n            case 'empty':\n                break;\n            default:\n                NI_SUPPORT.error('Unsupported value', this.value);\n                break;\n        }\n    };\n\n    proto.toFlot = function (chart, value, valueType) {\n        // the chart is not using the element value as data, but the history buffer.\n        // we will return an array of empty data series with the length equal with the\n        // width of the history buffer\n        var res = [];\n        var width = chart.historyBuffer.width;\n        for (var i = 0; i < width; i++) {\n            res[i] = [];\n        }\n        return res;\n    }\n\n}());\n","//****************************************\n// Cartesian Graph Base Prototype\n// DOM Registration: HTMLNICartesianGraph\n// National Instruments Copyright 2015\n//****************************************\n\n// Constructor Function: Empty (Not Invoked)\nNationalInstruments.HtmlVI.Elements.CartesianGraphBase = function () {\n    'use strict';\n};\n\n// Static Public Variables\n// None\n\n(function (child, parent) {\n    'use strict';\n    // Static Private Reference Aliases\n    var $ = NationalInstruments.Globals.jQuery;\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n    var graphDataPipeline = NationalInstruments.HtmlVI.DataPipeline.GraphDataPipeline;\n\n    NI_SUPPORT.inheritFromParent(child, parent);\n    var proto = child.prototype;\n    var plotsUpdatesEnabled = true;\n    var graphConfigPending = false;\n\n    // Static Private Variables\n    // None\n\n    // Static Private Functions\n    // None\n\n    // Public Prototype Methods\n    proto.getSettings = function () {\n        var settings = {\n            lines: {\n                show: true,\n                lineWidth: 1\n            },\n            series: {\n                shadowSize: 0, // Drawing is faster without shadows\n                points: {\n                    lineWidth: 2 // in pixels\n                    //,fill: false // it's way faster if we don't fill the shapes. TODO: enable this\n                },\n            },\n            axisLabels: {\n                show: true\n            },\n            xaxes: [{}],\n            yaxes: [{}],\n            zoom: {\n                interactive: true,\n                trigger: null\n            },\n            pan: {\n                interactive: true\n            },\n            selection: {\n                mode: null\n            },\n            grid: {\n                backgroundColor: '#FFFFFF'\n            }\n        };\n\n        return settings;\n    };\n\n    proto.configureGraph = function () {\n        var i;\n        var cartesianGraphSettings = this.getSettings();\n        if (this.plotAreaMargin !== '') {\n            if (cartesianGraphSettings.grid === undefined) {\n                cartesianGraphSettings.grid = {};\n            }\n\n            cartesianGraphSettings.grid.margin = JSON.parse(this.plotAreaMargin);\n        }\n\n        // Apply Settings from host\n        cartesianGraphSettings.xaxes = [];\n        cartesianGraphSettings.yaxes = [];\n        cartesianGraphSettings.cursors = [];\n\n        for (i = 0; i < this.axes.length; i++) {\n            var axis = this.axes[i];\n            var a = axis.getViewConfig();\n\n            if (a) {\n                if (a.position && ((a.position === 'left') || (a.position === 'right'))) {\n                    cartesianGraphSettings.yaxes.push(a);\n                }\n\n                if (a.position && ((a.position === 'top') || (a.position === 'bottom'))) {\n                    cartesianGraphSettings.xaxes.push(a);\n                }\n            }\n        }\n\n        for (i = 0; i < this.cursors.length; i++) {\n            var cursor = this.cursors[i];\n            var c = cursor.getViewConfig();\n            cartesianGraphSettings.cursors.push(c);\n        }\n\n        if (this.graphTools) {\n            cartesianGraphSettings.zoom.interactive = this.graphTools.allowsScrollWheelZoom();\n            cartesianGraphSettings.pan.interactive = this.graphTools.allowsPan();\n            cartesianGraphSettings.selection.mode = this.graphTools.mode === 'zoom' ? 'smart' : null;\n        }\n\n        return cartesianGraphSettings;\n    };\n\n    proto.updateGraphConfig = function () {\n        var childElement = this.graphdiv;\n        if (childElement === undefined) {\n            return; // not ready yet\n        }\n\n        var cartesianGraphData = this.createData(this.plots, this.convertToFlotFormat(this.parsedValue));\n        var cartesianGraphSettings = this.configureGraph();\n        this.setHover(cartesianGraphData, cartesianGraphSettings);\n\n        try {\n            this.graph = $.plot(childElement, cartesianGraphData, cartesianGraphSettings);\n        } catch (error) {\n            NI_SUPPORT.log(error.message);\n        }\n\n        var that = this;\n        this.graph.getCursors().forEach(function (cursor, i) {\n            /* place a cookie on the cursor */\n            cursor.cookie = that.cursors[i];\n            that.cursors[i].setCursor(cursor);\n        });\n    };\n\n    proto.onCursorUpdates = function (event, cursordata) {\n        cursordata.forEach(function (cursor, i) {\n            cursor.target.cookie.updateCursorElement(cursordata[i]);\n        });\n    };\n\n    proto.throttlePlotUpdates = function (throttle) {\n        plotsUpdatesEnabled = !throttle;\n        if (plotsUpdatesEnabled && graphConfigPending) {\n            this.updateGraphConfig(); // keep the graph in sync\n            graphConfigPending = false;\n        }\n    };\n\n    proto.updateGraphConfigWhenPlotsUpdatesAreEnabled = function () {\n        if (plotsUpdatesEnabled) {\n            this.updateGraphConfig();\n            graphConfigPending = false;\n        } else {\n            graphConfigPending = true;\n        }\n    };\n\n    proto.convertToFlotFormat = function (value) {\n        return graphDataPipeline.prototype.toFlot(this, value);\n    };\n\n    proto.updatePlotName = function (index, name) {\n        if (name) {\n            if (this.plots[index]) {\n                this.plots[index].label = name;\n            }\n        }\n    };\n\n    proto.createData = function (plots, dataSeries) {\n        var plotConfig = [];\n\n        dataSeries.forEach(function (data, i) {\n            var plot = plots[i];\n            if (Array.isArray(data)) {\n                data = {data: data};\n            }\n\n            if (plot) {\n                plotConfig[i] = plot.getViewConfig();\n                plotConfig[i].data = (plot.show) ? data.data : [];\n                // TODO mix the properties in a better way\n                plotConfig[i].flatdata = data.flatdata;\n                plotConfig[i].start = data.start;\n                plotConfig[i].step = data.step;\n                plotConfig[i].decimate = data.decimate;\n            } else {\n                plotConfig[i] = data;\n            }\n        });\n\n        return plotConfig;\n    };\n\n    proto.setData = function (data) {\n        var graph = this.graph;\n\n        graph.setData(this.createData(this.plots, this.convertToFlotFormat(data)));\n        graph.setupGrid();\n        graph.draw();\n    };\n\n    proto.updateData = function () {\n        this.setData(this.parsedValue);\n    };\n\n    proto.addAllProperties = function (targetPrototype) {\n        parent.prototype.addAllProperties.call(this, targetPrototype);\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'value',\n            defaultValue: '[]',\n            fireEvent: true,\n            addNonSignalingProperty: true,\n            isElementValueProperty: true\n        });\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'plotAreaMargin',\n            defaultValue: ''\n        });\n    };\n\n    proto.createdCallback = function () {\n        parent.prototype.createdCallback.call(this);\n\n        // Public Instance Properties\n        this.plots = [];\n        this.axes = [];\n        this.cursors = [];\n        this.plotLegend = null;\n        this.cursorLegend = null;\n        this.scaleLegend = null;\n        this.graphTools = null;\n        this.graphdiv = undefined;\n        this.tooltip = null;\n        this.parsedValue = null;\n\n        // Private Instance Properties\n        // None\n    };\n\n    proto.findGraphItems_early = function () {\n        var myChildItems = [],\n            axisItemName = NationalInstruments.HtmlVI.Elements.CartesianPlot.prototype.elementInfo.tagName.toUpperCase(),\n            plotItemName = NationalInstruments.HtmlVI.Elements.CartesianAxis.prototype.elementInfo.tagName.toUpperCase(),\n            i;\n\n        for (i = 0; i < this.children.length; i++) {\n            if (this.children[i].tagName === plotItemName) {\n                myChildItems.push(this.children[i]);\n            } else if (this.children[i].tagName === axisItemName) {\n                myChildItems.push(this.children[i]);\n            }\n        }\n\n        return myChildItems;\n    };\n\n    proto.forceResize = function (size) {\n        parent.prototype.forceResize.call(this, size);\n        var plot = this.graph;\n        if (plot !== undefined) {\n            plot.clearTextCache();\n            plot.resize();\n            plot.setupGrid();\n            plot.draw();\n        }\n    };\n\n    proto.createGraph = function () {\n        var that = this;\n        var childElement = document.createElement('div');\n        childElement.style.width = '100%';\n        childElement.style.height = '100%';\n        this.appendChild(childElement);\n        var tooltip = document.createElement('div');\n        tooltip.id = 'tooltip' + NI_SUPPORT.uniqueId();\n        tooltip.className = 'ni-graph-tooltip';\n        this.appendChild(tooltip);\n        this.tooltip = tooltip;\n\n        this.graphdiv = childElement;\n\n        var cartesianGraphData = this.createData(this.plots, this.convertToFlotFormat(this.parsedValue));\n        var cartesianGraphSettings = this.configureGraph();\n        this.setHover(cartesianGraphData, cartesianGraphSettings);\n\n        try {\n            this.graph = $.plot(childElement, cartesianGraphData, cartesianGraphSettings);\n        } catch (e) {\n            NI_SUPPORT.log('Failed to create a flot chart. Make sure that the placeholder element has a non-zero size !');\n        }\n\n        $(childElement).bind('plothover', function (event, pos, item) {\n            if (item && that.plots[item.seriesIndex]) {\n                var x = item.datapoint[0],\n                    y = item.datapoint[1],\n                    hoverFormat = that.plots[item.seriesIndex].hoverFormat || '{0}, {1}',\n                    str = that.format(hoverFormat, x, y);\n\n                $(tooltip).html(str)\n                    .css({ top: item.pageY - that.offsetTop + 5, left: item.pageX - that.offsetLeft + 5 })\n                    .fadeIn(100);\n            } else {\n                $(tooltip).hide();\n            }\n        });\n\n        try {\n            this.graph.getPlaceholder().bind('cursorupdates', this.onCursorUpdates);\n            this.graph.getCursors().forEach(function (cursor, i) {\n                /* place a cookie on the cursor */\n                cursor.cookie = that.cursors[i];\n                that.cursors[i].setCursor(cursor);\n            });\n        } catch (e) { }\n    };\n\n    proto.attachedCallback = function () {\n        var firstCall = parent.prototype.attachedCallback.call(this), graphChildElements;\n\n        if (firstCall === true) {\n            graphChildElements = this.findGraphItems_early();\n            this.addGraphItemListeners(graphChildElements);\n            this.parsedValue = JSON.parse(this.value);\n            this.createGraph();\n            this.attachLegends();\n        }\n\n        return firstCall;\n    };\n\n    proto.addGraphItemListeners = function (childElements) {\n        var that = this;\n        that.addEventListener('ni-cartesian-plot-attached', function (evt) {\n            var i;\n\n            if (evt.target === that) {\n                that.plots.push(evt.detail.element);\n                for (i = 0; i < childElements.length; i++) {\n                    if (childElements[i] === evt.detail.element) {\n                        childElements.splice(i, 1);\n                        break;\n                    }\n                }\n\n                that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\n                that.notifyPlotLegend('ni-cartesian-plot-attached', evt.detail.element);\n            }\n        });\n\n        that.addEventListener('ni-cartesian-plot-detached', function (evt) {\n            var i;\n\n            that.notifyPlotLegend('ni-cartesian-plot-detached', evt.detail.element);\n\n            if (evt.target === that) {\n                for (i = 0; i < that.plots.length; i++) {\n                    if (that.plots[i] === evt.detail.element) {\n                        that.plots.splice(i, 1);\n                        break;\n                    }\n                }\n\n                that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\n            }\n        });\n\n        that.addEventListener('ni-cartesian-axis-attached', function (evt) {\n            var i;\n\n            if (evt.target === that) {\n                if (typeof that.axes === 'string') {\n                    that.axes = [];\n                }\n\n                if (typeof that.plots === 'string') {\n                    that.plots = [];\n                }\n\n                that.axes.push(evt.detail.element);\n                for (i = 0; i < childElements.length; i++) {\n                    if (childElements[i] === evt.detail.element) {\n                        childElements.splice(i, 1);\n                        break;\n                    }\n                }\n\n                that.updateGraphConfig();\n                that.notifyScaleLegend('ni-cartesian-axis-attached', evt.detail.element);\n            }\n        });\n\n        that.addEventListener('ni-cartesian-axis-detached', function (evt) {\n            var i;\n\n            if (evt.target === that) {\n                for (i = 0; i < that.axes.length; i++) {\n                    if (that.axes[i] === evt.detail.element) {\n                        that.axes.splice(i, 1);\n                        break;\n                    }\n                }\n\n                that.updateGraphConfig();\n                that.notifyScaleLegend('ni-cartesian-axis-detached', evt.detail.element);\n            }\n        });\n\n        that.addEventListener('ni-cursor-attached', function (evt) {\n            var i;\n\n            if (evt.target === that) {\n                if (typeof that.cursors === 'string') {\n                    that.cursors = [];\n                }\n\n                that.cursors.push(evt.detail.element);\n                for (i = 0; i < childElements.length; i++) {\n                    if (childElements[i] === evt.detail.element) {\n                        childElements.splice(i, 1);\n                        break;\n                    }\n                }\n\n                that.updateGraphConfig();\n                that.notifyCursorLegend('ni-cursor-attached', evt.detail.element);\n            }\n        });\n\n        that.addEventListener('ni-cursor-detached', function (evt) {\n            var i;\n\n            if (evt.target === that) {\n                for (i = 0; i < that.cursors.length; i++) {\n                    if (that.cursors[i] === evt.detail.element) {\n                        that.cursors.splice(i, 1);\n                        break;\n                    }\n                }\n\n                that.updateGraphConfig();\n                that.notifyCursorLegend('ni-cursor-detached', evt.detail.element);\n            }\n        });\n\n        that.addEventListener('ni-axis-changed', function (evt) {\n            that.updateGraphConfig();\n            that.notifyScaleLegend('ni-axis-changed', evt.detail.element);\n        });\n\n        that.addEventListener('ni-cursor-changed', function (evt) {\n            that.updateGraphConfig();\n            that.notifyCursorLegend('ni-cursor-changed', evt.detail.element);\n        });\n\n        that.addEventListener('ni-cartesian-plot-changed', function (evt) {\n            that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\n            that.notifyPlotLegend('ni-cartesian-plot-changed', evt.detail.element);\n        });\n\n        that.addEventListener('ni-cartesian-plot-renderer-changed', function (evt) {\n            that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\n            that.notifyPlotLegend('ni-cartesian-plot-renderer-changed', evt.detail.originalSource);\n        });\n\n        that.addEventListener('ni-cartesian-plot-renderer-attached', function (evt) {\n            that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\n            that.notifyPlotLegend('ni-cartesian-plot-renderer-attached', evt.detail.originalSource);\n        });\n\n        that.addEventListener('ni-cartesian-plot-renderer-detached', function (evt) {\n            that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\n            that.notifyPlotLegend('ni-cartesian-plot-renderer-detached', evt.detail.originalSource);\n        });\n\n        that.addEventListener('ni-graph-tools-changed', function () {\n            that.updateGraphConfig();\n        });\n    };\n\n    proto.registerPlotLegend = function (plotLegend) {\n        this.plotLegend = plotLegend;\n    };\n\n    proto.notifyPlotLegend = function (name, originalSource) {\n        var eventConfig;\n\n        if (this.plotLegend !== null) {\n            eventConfig = {\n                bubbles: false,\n                cancelable: true,\n                detail: {\n                    element: this,\n                    originalSource: originalSource\n                }\n            };\n\n            this.plotLegend.dispatchEvent(new CustomEvent(name, eventConfig));\n        }\n    };\n\n    proto.registerCursorLegend = function (cursorLegend) {\n        var i;\n        this.cursorLegend = cursorLegend;\n        if (this.cursors.length > 0) {\n            for (i = 0; i < this.cursors.length; i++) {\n                this.notifyCursorLegend('ni-cursor-attached', this.cursors[i]);\n            }\n        }\n    };\n\n    proto.notifyCursorLegend = function (name, originalSource) {\n        var eventConfig;\n\n        if (this.cursorLegend !== null) {\n            eventConfig = {\n                bubbles: false,\n                cancelable: true,\n                detail: {\n                    element: this,\n                    originalSource: originalSource\n                }\n            };\n\n            this.cursorLegend.dispatchEvent(new CustomEvent(name, eventConfig));\n        }\n    };\n\n    proto.registerScaleLegend = function (scaleLegend) {\n        var i;\n        this.scaleLegend = scaleLegend;\n        if (this.axes.length > 0) {\n            for (i = 0; i < this.axes.length; i++) {\n                this.notifyScaleLegend('ni-cartesian-axis-attached', this.axes[i]);\n            }\n        }\n    };\n\n    proto.notifyScaleLegend = function (name, originalSource) {\n        var eventConfig;\n\n        if (this.scaleLegend !== null) {\n            eventConfig = {\n                bubbles: false,\n                cancelable: true,\n                detail: {\n                    element: this,\n                    originalSource: originalSource\n                }\n            };\n\n            this.scaleLegend.dispatchEvent(new CustomEvent(name, eventConfig));\n        }\n    };\n\n    proto.registerGraphTools = function (graphTools) {\n        var that = this;\n        this.graphTools = graphTools;\n\n        this.updateGraphConfig();\n\n        $(this.graphdiv).on('plotselected', function (event, ranges) {\n            that.notifyGraphTools('ni-cartesian-graph-box-selected', { ranges: ranges });\n        });\n\n        $(this.graphdiv).on('plotpan', function (event, ranges) {\n            that.notifyGraphTools('ni-cartesian-graph-interaction', { ranges: ranges });\n        });\n\n        $(this.graphdiv).on('plotzoom', function (event, ranges) {\n            that.notifyGraphTools('ni-cartesian-graph-interaction', { ranges: ranges });\n        });\n\n        $(this.graphdiv).on('re-center', function (event) {\n            that.notifyGraphTools('ni-cartesian-graph-reCenter', event);\n        });\n    };\n\n    proto.notifyGraphTools = function (name, originalSource) {\n        var eventConfig;\n\n        if (this.graphTools !== null) {\n            eventConfig = {\n                bubbles: false,\n                cancelable: true,\n                detail: {\n                    element: this,\n                    originalSource: originalSource\n                }\n            };\n\n            this.graphTools.dispatchEvent(new CustomEvent(name, eventConfig));\n        }\n    };\n\n    // find the graph legend elements that were created before the graph element and attach them\n    proto.attachLegends = function () {\n\t\t var graphElement = this,\n            legendTags = [\n                'ni-cursor-legend'.toUpperCase(),\n                'ni-plot-legend'.toUpperCase(),\n                'ni-cursor-legend'.toUpperCase(),\n                'ni-graph-tools'.toUpperCase()\n            ],\n\n            children = this.parentElement.children,\n            myLegends = [];\n\n        for (var i = 0; i < children.length; i++) {\n            var element = children[i];\n            if ((legendTags.indexOf(element.tagName) !== -1) && (element.graphName === this.niControlId)) {\n                // this is a legend element that references this graph element\n                myLegends.push(element);\n            }\n        }\n\n        myLegends.forEach(function (legend) {\n            legend.attachToGraph(graphElement);\n        });\n    };\n\n    proto.propertyUpdated = function (propertyName) {\n        parent.prototype.propertyUpdated.call(this, propertyName);\n\n        switch (propertyName) {\n            case 'value':\n                this.parsedValue = JSON.parse(this.value);\n                this.updateData();\n                break;\n            case 'plotAreaMargin':\n                this.updateGraphConfig();\n                break;\n        }\n    };\n\n    proto.format = function () {\n        var args = arguments;\n        var str = args[0];\n        return str.replace(/{(\\d+)}/g, function (match, number) {\n            var index = parseInt(number) + 1;\n            var item = args[index];\n\n            if (typeof item !== 'undefined') {\n                var len1 = item.toFixed(2).length;\n                var len2 = item.toExponential(2).length;\n                if (len1 < len2) {\n                    return item.toFixed(2);\n                } else {\n                    return item.toExponential(2);\n                }\n            } else {\n                return match;\n            }\n        });\n    };\n\n    proto.setHover = function (graphData, graphSettings) {\n        var i,\n            isHoverable = false;\n\n        for (i = 0; i < graphData.length; i++) {\n            if (graphData[i].hoverable) {\n                isHoverable = true;\n                break;\n            }\n        }\n\n        if (isHoverable === true) {\n            if (graphSettings.grid === undefined) {\n                graphSettings.grid = {};\n            }\n\n            graphSettings.grid.hoverable = isHoverable;\n        } else {\n            if (this.tooltip !== null) {\n                $(this.tooltip).hide();\n            }\n        }\n    };\n}(NationalInstruments.HtmlVI.Elements.CartesianGraphBase, NationalInstruments.HtmlVI.Elements.Visual));\n","//****************************************\n// Cartesian Graph Prototype\n// DOM Registration: HTMLNICartesianGraph\n// National Instruments Copyright 2017\n//****************************************\n\n/**\n## ni-cartesian-graph\n\n> A custom element that allows to graph one or multiple data sets.\n\nAn ni-cartesian-graph is a declarative way, that uses custom elements, to add a graph\nto a web page. Specify your data sets using the value attribute and customize how\nthe data is renderended using nested custom elements such as *ni-cartesian-axis*,\n*ni-cartesian-plot*, *ni-cartesian-plot-renderer* or *ni-cursor*.\n\nExample showing how you can render a graph of prime number versus fibonacci numbers.\n```html\n<ni-cartesian-graph value=\"[[2, 3, 5, 7, 11, 13, 17, 19],\n                          [0, 1, 1, 2, 3, 5, 8, 13]]\">\n  <ni-cartesian-axis show label=\"Index\" auto-scale axis-position=\"bottom\"></ni-cartesian-axis>\n  <ni-cartesian-axis show label=\"Value\" auto-scale axis-position=\"left\"></ni-cartesian-axis>\n  <ni-cartesian-plot show label=\"Prime Numbers\">\n    <ni-cartesian-plot-renderer line-width=\"2\" line-stroke=\"red\">\n    </ni-cartesian-plot-renderer>\n  </ni-cartesian-plot>\n  <ni-cartesian-plot show label=\"Fibonacci Numbers\">\n    <ni-cartesian-plot-renderer line-width=\"2\" line-stroke=\"blue\">\n    </ni-cartesian-plot-renderer>\n  </ni-cartesian-plot>\n</ni-cartesian-graph>\n```\n*/\n\n// Constructor Function: Empty (Not Invoked)\nNationalInstruments.HtmlVI.Elements.CartesianGraph = function () {\n    'use strict';\n};\n\n// Static Public Variables\n// None\n\n(function (child, parent) {\n    'use strict';\n    // Static Private Reference Aliases\n    var $ = NationalInstruments.Globals.jQuery;\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n\n    NI_SUPPORT.inheritFromParent(child, parent);\n    var proto = child.prototype;\n\n    // Static Private Variables\n    // None\n\n    // Static Private Functions\n    // None\n\n    // Public Prototype Methods\n    proto.updateGraphConfig = function () {\n        var childElement = this.graphdiv;\n        if (childElement === undefined) {\n            return; // not ready yet\n        }\n\n        var cartesianGraphData = this.createData(this.plots, this.convertToFlotFormat(JSON.parse(this.value)));\n        var cartesianGraphSettings = this.configureGraph();\n        this.setHover(cartesianGraphData, cartesianGraphSettings);\n        try {\n            this.graph = $.plot(childElement, cartesianGraphData, cartesianGraphSettings);\n            var that = this;\n            this.graph.getCursors().forEach(function (cursor, i) {\n                /* place a cookie on the cursor */\n                cursor.cookie = that.cursors[i];\n                that.cursors[i].setCursor(cursor);\n            });\n        } catch (error) {}\n    };\n\n    proto.updateData = function () {\n        var graph = this.graph;\n\n        graph.setData(this.createData(this.plots, this.convertToFlotFormat(JSON.parse(this.value))));\n        graph.setupGrid();\n        graph.draw();\n    };\n\n    proto.defineElementInfo(proto, 'ni-cartesian-graph', 'HTMLNICartesianGraph');\n}(NationalInstruments.HtmlVI.Elements.CartesianGraph, NationalInstruments.HtmlVI.Elements.CartesianGraphBase));\n","//****************************************\n// Chart custom element\n// DOM Registration: HTMLNIChart\n// National Instruments Copyright 2017\n//****************************************\n\n/**\n## ni-chart\n\n> A custom element that allows to chart one or multiple data sets.\n\nThe difference between a graph and a chart is that a graph plots directly the data\nsets provided but the chart uses a buffer of historical values, called a\nHistoryBuffer for data handling.\n\nAs you append new values to the charts' History buffer the chart is updated as\nneeded, on the next browser animation frame.\n\nExample:\n\n```html\n<ni-chart id=\"chart1\" bufferSize=\"1024\">\n    <ni-cartesian-axis show show-tick-labels label=\"Time\" axis-position=\"bottom\" auto-scale></ni-cartesian-axis>\n    <ni-cartesian-axis show show-tick-labels label=\"Amplitude\"  axis-position=\"left\" auto-scale></ni-cartesian-axis>\n    <ni-cartesian-plot show label=\"Plot 1\">\n      <ni-cartesian-plot-renderer line-width=\"2\" line-stroke=\"#a84716\"></ni-cartesian-plot-renderer>\n    </ni-cartesian-plot>\n</ni-chart>\n\n<script>\n  var historyBuffer = $('#chart1').getHistoryBuffer();\n\n  // write 1000 values into the chart's history buffer\n  for (var i = 0; i < 10; i++) {\n    historyBuffer.push(Math.sin(i));\n    i += 0.01;\n  }\n</script>\n```\n\nThe HistoryBuffer API is described [here](historyBuffer.md).\n*/\n\nNationalInstruments.HtmlVI.Elements.Chart = function () {\n    'use strict';\n};\n\n(function (child, parent, global) {\n    'use strict';\n    // Static Private Reference Aliases\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n    var chartDataPipeline = NationalInstruments.HtmlVI.DataPipeline.ChartDataPipeline;\n\n    NI_SUPPORT.inheritFromParent(child, parent);\n    var proto = child.prototype;\n\n    // Static Private Variables\n    // None\n\n    // Static Private Functions\n    // None\n\n    /** ### ni-chart properties*/\n    proto.addAllProperties = function (targetPrototype) {\n        parent.prototype.addAllProperties.call(this, targetPrototype);\n\n        /** **buffer-size** (number) - the size of the chart history buffer */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'bufferSize',\n            defaultValue: 1024\n        });\n    };\n\n    /** ### ni-chart methods*/\n\n    /** **setHistoryBuffer(historyBuffer)** - changes the internal history buffer\n    of the chart to the provided one*/\n    proto.setHistoryBuffer = function (historyBuffer) {\n        this.historyBuffer = historyBuffer;\n    };\n\n    /** **getHistoryBuffer()** - returns a reference to the internal history\n    buffer of the chart*/\n    proto.getHistoryBuffer = function () {\n        return this.historyBuffer;\n    };\n\n    proto.createdCallback = function () {\n        parent.prototype.createdCallback.call(this);\n\n        // Public Instance Properties\n        this.historyBuffer = new global.HistoryBuffer(this.bufferSize, 1);\n        NationalInstruments.HtmlVI.DataPipeline.ChartDataPipeline.prototype.loadValueIntoHistoryBuffer(JSON.parse(this.value), this.historyBuffer);\n\n        // Private Instance Properties\n        // None\n    };\n\n    proto.convertToFlotFormat = function (value) {\n        return chartDataPipeline.prototype.toFlot(this, value);\n    };\n\n    proto.getSettings = function () {\n        var settings = parent.prototype.getSettings.call(this);\n\n        settings.series.historyBuffer = this.historyBuffer;\n\n        return settings;\n    };\n\n    proto.defineElementInfo(proto, 'ni-chart', 'HTMLNIChart');\n}(NationalInstruments.HtmlVI.Elements.Chart, NationalInstruments.HtmlVI.Elements.CartesianGraphBase, typeof global === 'object' && global ? global : this));\n","//****************************************\n// IntensityGraph Custom Element\n// DOM Registration: HTMLNIIntensityGraph\n// National Instruments Copyright 2017\n//****************************************\n\n/**\n## ni-intensity-graph\n\n> A custom element that allows to plot a 2D data set as a gradient map.\n\nAn ni-intensity-graph is a declarative way, that uses custom elements, to add an\nintensity graph to a web page. Specify your data sets using the value attribute\nand customize how the data is renderended using nested custom elements such as\n*ni-cartesian-axis*, *ni-color-scale*.\n\nExample:\n```html\n<ni-intensity-graph id=\"graph1\" value=\"[[0.1, 0.2], [0.3, 0.4], [0.5, 0.6]]\">\n    <ni-cartesian-axis label=\"X\" show show-label axis-position=\"bottom\" show-tick-labels auto-scale grid-lines></ni-cartesian-axis>\n    <ni-cartesian-axis label=\"Y\" show show-label axis-position=\"left\" show-tick-labels auto-scale grid-lines></ni-cartesian-axis>\n    <ni-color-scale label=\"Color Scale\" show show-label\n        markers='[{\"value\":0,\"color\":\"rgba(0,0,0,1)\"},{\"value\":50,\"color\":\"rgba(0,0,255,1)\"},{\"value\":100,\"color\":\"rgba(255,255,255,1)\"}]'\n        high-color=\"rgba(255,255,255,1)\" low-color=\"rgba(0,0,0,1)\">\n    </ni-color-scale>\n</ni-intensity-graph>\n```\n*/\n\nNationalInstruments.HtmlVI.Elements.IntensityGraph = function () {\n    'use strict';\n};\n\n// Static Public Variables\nNationalInstruments.HtmlVI.Elements.IntensityGraph.ScaleTypeEnum = Object.freeze({\n    COLORSCALE: 'colorScale',\n    COLORSCALEGRADIENT: 'colorScaleGradient'\n});\n\n(function (child, parent) {\n    'use strict';\n    // Static Private Reference Aliases\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n    var SCALETYPE_ENUM = NationalInstruments.HtmlVI.Elements.IntensityGraph.ScaleTypeEnum;\n\n    NI_SUPPORT.inheritFromParent(child, parent);\n    var proto = child.prototype;\n\n    // Static Private Variables\n    var h = 50;\n    var w = 100;\n    var parsedData = null;\n\n    // Static Private Functions\n    // None\n\n    // Public Prototype Methods\n    proto.dataRange = function () {\n        if (parsedData === null || parsedData.length === 0) {\n            return { dataMin: 0, dataMax: Math.sqrt(h * h + w * w) };\n        } else {\n            var tempMin = Math.min();\n            var tempMax = Math.max();\n            for (var i = 0; i < parsedData.length; i++) {\n                var buf = parsedData[i];\n                for (var j = 0; j < buf.length; j++) {\n                    if (buf[j] > tempMax) {\n                        tempMax = buf[j];\n                    }\n\n                    if (buf[j] < tempMin) {\n                        tempMin = buf[j];\n                    }\n                }\n            }\n\n            return { dataMin: tempMin, dataMax: tempMax };\n        }\n    };\n\n    proto.createdCallback = function () {\n        parent.prototype.createdCallback.call(this);\n\n        // Public Instance Properties\n        this.autoScaleColor = false;\n\n        // Private Instance Properties\n        // None\n    };\n\n    proto.getSettings = function () {\n        var settings = {\n            series: {\n                intensitygraph: {\n                    show: true,\n                    legend: true\n                }\n            },\n            axisLabels: {\n                show: true\n            },\n            grid: {\n                backgroundColor: '#FFFFFF'\n            },\n            xaxes: [{}],\n            yaxes: [{}]\n        };\n\n        return settings;\n    };\n\n    proto.configureGraph = function () {\n        var i, j, gradient = [];\n        var colorScaleAutoScale, colorScaleMin, colorScaleMax, colorScaleLabel, colorScaleShow, colorScaleFont;\n        var cartesianGraphSettings = this.getSettings();\n        if (this.plotAreaMargin !== '') {\n            if (cartesianGraphSettings.grid === undefined) {\n                cartesianGraphSettings.grid = {};\n            }\n\n            cartesianGraphSettings.grid.margin = JSON.parse(this.plotAreaMargin);\n        }\n\n        var data = JSON.parse(this.value);\n        cartesianGraphSettings.series.intensitygraph.data =  data.length > 0 ? data : this.defaultData();\n        cartesianGraphSettings.xaxes = [];\n        cartesianGraphSettings.yaxes = [];\n        for (i = 0; i < this.axes.length; i++) {\n            var axis = this.axes[i];\n            var a = axis.getViewConfig();\n\n            if (a) {\n                var isColorScale = a.type === SCALETYPE_ENUM.COLORSCALE;\n                if (!isColorScale && (a.position === 'left' || a.position === 'right')) {\n                    cartesianGraphSettings.yaxes.push(a);\n                }\n\n                if (!isColorScale && (a.position === 'bottom' || a.position === 'top')) {\n                    cartesianGraphSettings.xaxes.push(a);\n                }\n\n                if (isColorScale) {\n                    var markers = JSON.parse(a.markers);\n                    for (j = 0; j < markers.length; j++) {\n                        gradient[j] = { value: markers[j].value, color: markers[j].color };\n                    }\n\n                    if (a.autoScale === false) {\n                        colorScaleMin = markers[0].value;\n                        colorScaleMax = markers[markers.length - 1].value;\n                        cartesianGraphSettings.series.intensitygraph.min = colorScaleMin;\n                        cartesianGraphSettings.series.intensitygraph.max = colorScaleMax;\n                    } else {\n                        this.autoScaleColor = true;\n                        var range = this.dataRange();\n                        colorScaleMin = range.dataMin;\n                        colorScaleMax = range.dataMax;\n                        cartesianGraphSettings.series.intensitygraph.min = range.dataMin;\n                        cartesianGraphSettings.series.intensitygraph.max = range.dataMax;\n                    }\n\n                    cartesianGraphSettings.series.intensitygraph.gradient = gradient;\n                    cartesianGraphSettings.series.intensitygraph.lowColor = a.lowColor;\n                    cartesianGraphSettings.series.intensitygraph.highColor = a.highColor;\n\n                    colorScaleAutoScale = a.autoScale;\n                    colorScaleLabel = a.axisLabel;\n                    colorScaleShow = a.show;\n                    colorScaleFont = a.font;\n                }\n            }\n        }\n\n        // add color scale after adding the Y axis\n        cartesianGraphSettings.yaxes.push({\n            type: SCALETYPE_ENUM.COLORSCALEGRADIENT,\n            position: 'right',\n            show: false,\n            min: -0,\n            max: 50,\n            showMinorTicks: false,\n            showTicks: false,\n            gridLines: false,\n            reserveSpace: colorScaleShow,\n            labelWidth: 20,\n            labelHeight: 50\n        });\n        cartesianGraphSettings.yaxes.push({\n            type: SCALETYPE_ENUM.COLORSCALE,\n            position: 'right',\n            min: colorScaleMin,\n            max: colorScaleMax,\n            axisLabel: colorScaleLabel,\n            show: colorScaleShow,\n            showMinorTicks: true,\n            showTicks: true,\n            gridLines: false,\n            font: colorScaleFont,\n            autoScale: colorScaleAutoScale\n        });\n\n        return cartesianGraphSettings;\n    };\n\n    proto.defaultData = function () {\n        return [[]];\n    };\n\n    proto.createData = function (plots, data) {\n        var plotConfig = {};\n\n        if (plots.length > 0) {\n            plotConfig = plots[0].getViewConfig();\n        }\n\n        // the data is placed in the config not the series because it does not match the series data type (and converting it might be expensive)\n        var graphdata = data.length > 0 ? data : this.defaultData();\n        parsedData = graphdata;\n        plotConfig.data = graphdata;\n        var cartesianGraphData = [plotConfig];\n\n        return cartesianGraphData;\n    };\n\n    proto.updateData = function () {\n        var graph = this.graph;\n        var data = this.createData(this.plots, JSON.parse(this.value));\n\n        if (!this.autoScaleColor) {\n            graph.setData(data);\n            graph.setupGrid();\n        } else {\n            this.updateGraphConfig();\n        }\n\n        graph.draw();\n    };\n\n    proto.convertToFlotFormat = function (data) {\n        return data;\n    };\n\n    proto.defineElementInfo(proto, 'ni-intensity-graph', 'HTMLNIIntensityGraph');\n}(NationalInstruments.HtmlVI.Elements.IntensityGraph, NationalInstruments.HtmlVI.Elements.CartesianGraphBase));\n","/*jslint nomen: true, devel:true*/\n/*global NationalInstruments*/\n//****************************************\n// Cartesian Axis Custom Element\n// DOM Registration: HTMLNICartesianAxis\n// National Instruments Copyright 2017\n//****************************************\n\n/**\n## ni-cartesian-axis\n\n> Add axes to a graph.\n\n```html\n<ni-cartesian-graph>\n  <ni-cartesian-axis show show-tick-labels grid-lines show-label label=\"Axis 1\" axis-position='bottom'>\n  </ni-cartesian-axis>\n  <ni-cartesian-axis show show-tick-labels grid-lines show-label label=\"Axis 2\" axis-position='top'>\n  </ni-cartesian-axis>\n  <ni-cartesian-axis show show-tick-labels grid-lines show-label label=\"Axis 3\" axis-position='left'>\n  </ni-cartesian-axis>\n</ni-cartesian-graph>\n```\nMultiple vertical and horizontal axes can be added to a graph and configured.\n\nAxes can be placed to the right, left and on top or bottom of a graph, can use a\nlogarithmic scale if desired and can show time. A relative time format is supported\nalong with the absolute time format.\n\nThe minimum and maximum value of an axis can be specified. Autoscaling according\nto the data ranges dispayed is also possible.\n*/\n\nNationalInstruments.HtmlVI.Elements.CartesianAxis = function () {\n    'use strict';\n};\n\n// Static Public Variables\n// None\n\n(function (child, parent) {\n    'use strict';\n    // Static Private Reference Aliases\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n\n    NI_SUPPORT.inheritFromParent(child, parent);\n    var proto = child.prototype;\n    var NINumericFormatters = window.NINumericFormatters;\n\n    // Static Private Variables\n    // None\n\n    // Static Private Functions\n    // None\n\n    var escapeHtmlString = function (string) {\n        var entityMap = {\n            '&': '&amp;',\n            '<': '&lt;',\n            '>': '&gt;',\n            '\"': '&quot;',\n            \"'\": '&apos;',\n            '/': '&#x2F;',\n            '`': '&#x60;'\n        };\n  \n        return String(string).replace(/[&<>\"'`\\/]/g, function fromEntityMap (s) {\n            return entityMap[s];\n        }); \n    };\n\n    var isTimeAxis = function (format) {\n        return (format.indexOf('LVTime') === 0) || (format.indexOf('LVRelativeTime') === 0);\n    };\n\n    var toFlotTimeFormat = function (format) {\n        if (format.indexOf('LVTime') === 0) {\n            return '%A';\n        }\n\n        if (format.indexOf('LVRelativeTime') === 0) {\n            return '%r';\n        }\n\n        return null;\n    };\n\n    var nullTickFormatter = function () {\n        return '';\n    };\n\n    var siTickFormatter = function (num, axis) {\n        return NINumericFormatters.prototype.toSiNotation(num, axis.tickDecimals);\n    };\n\n    var roundUsing = function (roundFunction, number, precisionDigits) {\n        var precision = Math.pow(10, precisionDigits);\n        var tempNumber = number * precision;\n        tempNumber = roundFunction(tempNumber);\n\n        return tempNumber / precision;\n    };\n\n    // Nx or Gx\n    // where N is for Fixed Notation and G for Significant Digits Precision\n    // x is a natural number representing the number of decimals/digits\n    var getDecTickFormatter = function (options) {\n        if (options.indexOf('G') === -1 && options.indexOf('N') === -1) {\n            //use flot default tick formatter\n            return null;\n        }\n\n        return function (num) {\n            var len = parseInt(options.slice(1));\n            var value = num;\n\n            if (options.indexOf('G') === 0) {\n                return NINumericFormatters.prototype.toDecPrecisionNotation(value, len);\n            } else {\n                value = roundUsing(Math.floor, num, len);\n                return NINumericFormatters.prototype.toDecFixedNotation(value, len);\n            }\n        };\n    };\n\n    var chooseTickFormatter = function (format, showTickLabels) {\n        if (!showTickLabels) {\n            return nullTickFormatter;\n        }\n\n        if (format.indexOf('LVSI') === 0) {\n            return siTickFormatter;\n        }\n        // 'LVRelativeSeconds:Nx' or 'LVRelativeSeconds:Gx'\n        // Ex: 'LVRelativeSeconds:N4'\n        // where N represents the Fixed Notation,\n        // G represents the Significant Digits Precision and\n        // x is a number representing the number of decimals/digits\n        if (format.indexOf('LVRelativeSeconds') === 0) {\n            var colonMarkIndex = 18,\n                decFormatTypeSubstring = format.slice(colonMarkIndex);\n            return getDecTickFormatter(decFormatTypeSubstring);\n        }\n\n        // use flot tick formatter\n        return null;\n    };\n\n    /**### ni-cartesian-axis properties*/\n    proto.addAllProperties = function (targetPrototype) {\n        parent.prototype.addAllProperties.call(this, targetPrototype);\n\n        /** **show** (boolean) - if true the axis will be visible. Default: false*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'show',\n            defaultValue: false\n        });\n\n        /** **label** (string) - the name of the axis. Default: '' */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'label',\n            defaultValue: ''\n        });\n\n        /**\n        **axis-position** (string) - the position of the axis. Default: 'left'\n         Accepted values: 'top', 'bottom', 'left' and 'right'\n        */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'axisPosition',\n            defaultValue: 'left'\n        });\n\n        /** **show-label** (boolean) - if true the axis label will be visible.\n        Default: false */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'showLabel',\n            defaultValue: false\n        });\n\n        /** **minimum** (number) - the minimum axis value. Default: 0*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'minimum',\n            defaultValue: 0\n        });\n\n        /** **maximum** (number) - the maximum axis value. Default: 1*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'maximum',\n            defaultValue: 1\n        });\n\n        /** **auto-scale** (boolean) - if true the axis will adapt to the data\n        ranges of the plots assigned to that axis. Default: false*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'autoScale',\n            defaultValue: false\n        });\n\n        /** **log-scale** (boolean) - if true the axis will be a log axis. Default: false*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'logScale',\n            defaultValue: false\n        });\n\n        /**\n        **format** (string) - the format of the tick labels. Default: false\n        TODO: document the format\n        */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'format',\n            defaultValue: ''\n        });\n\n        /** **show-tick-labels** (boolean) - if true the axis tick labels will be\n        visible. Default: false*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'showTickLabels',\n            defaultValue: false\n        });\n\n        /** **grid-lines** (boolean) - if true the grid lines for the axis will\n        be visible. Default: false*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'gridLines',\n            defaultValue: false\n        });\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'showTicks',\n            defaultValue: false\n        });\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'showMinorTicks',\n            defaultValue: false\n        });\n    };\n\n    proto.createdCallback = function () {\n        parent.prototype.createdCallback.call(this);\n\n        // Public Instance Properties\n        // None\n\n        // Private Instance Properties\n        this._parentGraph = undefined;\n    };\n\n    proto.sendEventToParentGraph = function (name) {\n        var eventConfig;\n\n        if (this._parentGraph !== undefined) {\n            eventConfig = {\n                bubbles: true,\n                cancelable: true,\n                detail: {\n                    element: this\n                }\n            };\n\n            this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\n        }\n    };\n\n    proto.attachedCallback = function () {\n        var firstCall = parent.prototype.attachedCallback.call(this);\n\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.CartesianGraphBase) {\n            this._parentGraph = this.parentElement;\n            this.sendEventToParentGraph('ni-cartesian-axis-attached');\n        } else {\n            NI_SUPPORT.error('Axis with following id does not have a parentGraph', this.niControlId);\n            this._parentGraph = undefined;\n        }\n\n        return firstCall;\n    };\n\n    proto.propertyUpdated = function (propertyName) {\n        parent.prototype.propertyUpdated.call(this, propertyName);\n\n        this.sendEventToParentGraph('ni-axis-changed');\n    };\n\n    proto.detachedCallback = function () {\n        parent.prototype.detachedCallback.call(this);\n\n        this.sendEventToParentGraph('ni-cartesian-axis-detached');\n        this._parentGraph = undefined;\n    };\n\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle, textDecoration) {\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle, textDecoration);\n\n        this.sendEventToParentGraph('ni-axis-changed');\n    };\n\n    // here we transform the configuration from the one used by the custom element to the one understood by Flot\n    proto.getViewConfig = function () {\n        var currStyle = window.getComputedStyle(this);\n\n        var flotConfig = {\n            axisLabel: this.showLabel ? escapeHtmlString(this.label) : undefined,\n            show: this.show,\n            position: this.axisPosition,\n            min: this.autoScale ? undefined : this.minimum,\n            max: this.autoScale ? undefined : this.maximum,\n            mode: this.logScale ? 'log' : 'linear',\n            element: this,\n            format: isTimeAxis(this.format) ? 'time' : null,\n            timeformat: toFlotTimeFormat(this.format),\n            tickFormatter: chooseTickFormatter(this.format, this.showTickLabels),\n            gridLines: this.gridLines,\n            showTicks: this.showTicks,\n            showMinorTicks: this.showMinorTicks,\n            font: {\n                size: parseFloat(currStyle.fontSize),\n                style: currStyle.fontStyle,\n                weight: currStyle.fontWeight,\n                family: currStyle.fontFamily,\n                color: 'inherit'\n            }\n        };\n\n        return flotConfig;\n    };\n\n    // get the flot axis coresponding to this element\n    proto.getFlotAxis = function () {\n        var graph = this._parentGraph.graph;\n        var axes = graph.getAxes();\n        var that = this;\n\n        var key =  Object.keys(axes).filter(function (axis) {\n            return axes[axis].options.element === that;\n        })[0];\n\n        return axes[key];\n    };\n\n    // set the axis min and max to the data min and max\n    proto.scaleOnce = function () {\n        var axis = this.getFlotAxis();\n\n        this.minimum = typeof axis.datamin === 'number' ? axis.datamin : this.minimum;\n        this.maximum = typeof axis.datamax === 'number' ? axis.datamax : this.maximum;\n    };\n\n    // called after an user interacts with the plot so the attributes of the element are in sync with the plot\n    proto.syncWithFlot = function () {\n        var axis = this.getFlotAxis();\n\n        // if axis.options.min isn't set it means this axis is in autoscale mode\n        if (typeof axis.options.min === 'number') {\n            this._autoScale = false;\n            this._minimum = axis.options.min;\n            this._maximum = axis.options.max;\n        } else {\n            this._autoScale = true;\n        }\n\n        if (this._parentGraph !== undefined) {\n            this._parentGraph.notifyScaleLegend('ni-axis-changed', this);\n        }\n    };\n\n    proto.defineElementInfo(proto, 'ni-cartesian-axis', 'HTMLNICartesianAxis');\n}(NationalInstruments.HtmlVI.Elements.CartesianAxis, NationalInstruments.HtmlVI.Elements.Visual));\n","/*jslint nomen: true, devel:true*/\n/*global NationalInstruments*/\n//****************************************\n// Color scale Custom Element\n// DOM Registration: No\n// National Instruments Copyright 2015\n//****************************************\n\n/**\n## ni-color-scale\n\n> A color scale added to an intensity graph is used to show configure the color\ngradients.\n\n```html\n<ni-intensity-graph>\n  <ni-cartesian-axis ...></ni-cartesian-axis>\n  <ni-cartesian-axis ...></ni-cartesian-axis>\n  <ni-color-scale show show-label label=\"Color Scale\" low-color=\"blue\" high-color=\"red\">\n  </ni-cartesian-axis>\n</ni-cartesian-graph>\n```\n\nA single color scale can be added to an intensity graph to visualize and control\nthe maping from values to the color gradient displayed.\n\nColor scales are only supported by intensity graphs.\n*/\n\n// Constructor Function: Empty (Not Invoked)\nNationalInstruments.HtmlVI.Elements.ColorScale = function () {\n    'use strict';\n};\n\n// Static Public Variables\n// None\n\n(function (child, parent) {\n    'use strict';\n    // Static Private Reference Aliases\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n    var SCALETYPE_ENUM = NationalInstruments.HtmlVI.Elements.IntensityGraph.ScaleTypeEnum;\n\n    NI_SUPPORT.inheritFromParent(child, parent);\n    var proto = child.prototype;\n\n    // Static Private Variables\n    // None\n\n    // Static Private Functions\n    // None\n\n    /** ### ni-color-scale properties*/\n    proto.addAllProperties = function (targetPrototype) {\n        parent.prototype.addAllProperties.call(this, targetPrototype);\n\n        /** **label** (string) - the name of the color scale. Default: '' */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'label',\n            defaultValue: ''\n        });\n\n        /** **show** (boolean) - if true the color scale will be visible. Default: false */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'show',\n            defaultValue: false\n        });\n\n        /** **show-label** (boolean) - if true the color scale label will be visible. Default: false */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'showLabel',\n            defaultValue: false\n        });\n\n        /** **axis-position** (string) - the position of the color scale. Default: 'right'.\n        Accepted values: *'left'*, *'right'* */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'axisPosition',\n            defaultValue: 'right'\n        });\n\n        /** **high-color** (string) - the color assigned to the values bigger than\n        the color scale maximum. Default: '#ffffff'.\n        Accepted values: a CSS color string*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'highColor',\n            defaultValue: '#ffffff'\n        });\n\n        /** **low-color** (string) - the color assigned to the values smaller than\n        the color scale minimum. Default: '#000000'.\n        Accepted values: a CSS color string*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'lowColor',\n            defaultValue: '#000000'\n        });\n\n        /** **markers** (string) - the color gradient used to map values to colorScaleAxis. Default: ''.\n        TODO: document the gradient format, better default value*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'markers',\n            defaultValue: '' // json string for array of markers\n        });\n\n        /** **auto-scale** (boolean) - if true the color gradient will strech to adapt to the\n        range of the data set provided. Default: false*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'autoScale',\n            defaultValue: false\n        });\n\n        /** **minimum** (number) - the minimum axis value. Default: 0*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'minimum',\n            defaultValue: 0\n        });\n\n        /** **maximum** (number) - the maximum axis value. Default: 1*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'maximum',\n            defaultValue: 1\n        });\n    };\n\n    proto.createdCallback = function () {\n        parent.prototype.createdCallback.call(this);\n\n        // Public Instance Properties\n        // None\n\n        // Private Instance Properties\n        this._parentGraph = undefined;\n    };\n\n    proto.sendEventToParentGraph = function (name) {\n        var eventConfig;\n\n        if (this._parentGraph !== undefined) {\n            eventConfig = {\n                bubbles: true,\n                cancelable: true,\n                detail: {\n                    element: this\n                }\n            };\n\n            this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\n        }\n    };\n\n    proto.attachedCallback = function () {\n        var firstCall = parent.prototype.attachedCallback.call(this);\n\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.IntensityGraph) {\n            this._parentGraph = this.parentElement;\n            this.sendEventToParentGraph('ni-cartesian-axis-attached');\n        } else {\n            NI_SUPPORT.error('Color scale with following id does not have an intensity-graph parent', this.niControlId);\n            this._parentGraph = undefined;\n        }\n\n        return firstCall;\n    };\n\n    proto.propertyUpdated = function (propertyName) {\n        parent.prototype.propertyUpdated.call(this, propertyName);\n\n        this.sendEventToParentGraph('ni-axis-changed');\n    };\n\n    proto.detachedCallback = function () {\n        parent.prototype.detachedCallback.call(this);\n\n        this.sendEventToParentGraph('ni-cartesian-axis-detached');\n        this._parentGraph = undefined;\n    };\n\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle, textDecoration) {\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle, textDecoration);\n\n        this.sendEventToParentGraph('ni-axis-changed');\n    };\n\n    // getViewConfig transforms the configuration from the one used by the custom element to the one understood by Flot */\n    proto.getViewConfig = function () {\n        var currStyle = window.getComputedStyle(this);\n\n        var flotConfig = {\n            type: SCALETYPE_ENUM.COLORSCALE,\n            axisLabel: this.showLabel ? this.label : undefined,\n            show: this.show,\n            autoScale: this.autoScale,\n            min: this.minimum,\n            max: this.maximum,\n            position: this.axisPosition,\n            lowColor: this.lowColor,\n            highColor: this.highColor,\n            markers: this.markers,\n            font: {\n                size: parseFloat(currStyle.fontSize),\n                style: currStyle.fontStyle,\n                weight: currStyle.fontWeight,\n                family: currStyle.fontFamily,\n                color: 'inherit'\n            }\n        };\n\n        return flotConfig;\n    };\n\n    // get the flot axis coresponding to this element\n    proto.getFlotAxis = function () {\n        if (this._parentGraph) {\n            var colorScaleAxis = this._parentGraph.graph\n                    .getYAxes()\n                    .filter(function (axis) {\n                        return axis.options.type === SCALETYPE_ENUM.COLORSCALE;\n                    })[0];\n            return colorScaleAxis;\n        }\n\n    };\n\n    proto.defineElementInfo(proto, 'ni-color-scale', 'HTMLNIColorScale');\n}(NationalInstruments.HtmlVI.Elements.ColorScale, NationalInstruments.HtmlVI.Elements.Visual));\n","/*jslint nomen: true, devel:true*/\n/*global NationalInstruments*/\n//****************************************\n// Cartesian Plot\n// DOM Registration: HTMLNICartesianPlot\n// National Instruments Copyright 2017\n//****************************************\n\n/**\n## ni-cartesian-plot\n\n> A custom element that, along with a nested ni-cartesian-plot-renderer describes\nthe way a data plot is rendered.\n\nA plot is the graphic representation of a data set. A graph or chart can show\nsimultaneously multiple data sets (plots). To customize how a data set, or plot\nis rendered use ni-cartesian-plot elements nested inside a graph or chart\nelement.\n\n```html\n<ni-cartesian-graph>\n  ...\n    add axes here\n  ...\n  <ni-cartesian-plot show label=\"plot 1\" xaxis=0 yaxis=0>\n    add an ni-cartesian-plot-renderer here\n  </ni-cartesian-plot>\n</ni-cartesian-graph>\n```\n*/\n\n\nNationalInstruments.HtmlVI.Elements.CartesianPlot = function () {\n    'use strict';\n};\n\n// Static Public Variables\n// None\n\n(function (child, parent) {\n    'use strict';\n    // Static Private Reference Aliases\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n\n    NI_SUPPORT.inheritFromParent(child, parent);\n    var proto = child.prototype;\n\n    // Static Private Variables\n    var defaultPlotConfig = {\n        lines: {\n            show: false\n        }\n    };\n\n    // Static Private Functions\n    // None\n\n    /** ### ni-cartesian-plot properties */\n    proto.addAllProperties = function (targetPrototype) {\n        parent.prototype.addAllProperties.call(this, targetPrototype);\n\n        /** **show** (boolean) - if true the plot will be shown. Default: false */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'show',\n            defaultValue: false\n        });\n\n        /** **label** (string) - the name of the plot. Default: '' */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'label',\n            defaultValue: ''\n        });\n\n        /** **xaxis** (number) - the X axis that this plot will use. Default: 0, the first X axis */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'xaxis',\n            defaultValue: ''\n        });\n\n        /** **yaxis** (number) - the Y axis that this plot will use. Default: 0, the first Y axis */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'yaxis',\n            defaultValue: ''\n        });\n\n        /** **enable-hover** (boolean) - if true, when the mouse hovers close to a point on the plot\n        a tooltip with the point value will be shown */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'enableHover',\n            defaultValue: false\n        });\n\n        /** **hover-format** (string) - specifies the format of the text shown in the tooltip. TODO: document the format*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'hoverFormat',\n            defaultValue: ''\n        });\n    };\n\n    proto.createdCallback = function () {\n        parent.prototype.createdCallback.call(this);\n\n        // Public Instance Properties\n        // None\n\n        // Private Instance Properties\n        this._parentGraph = undefined;\n    };\n\n    proto.sendEventToParentGraph = function (name, originalSource) {\n        var eventConfig;\n\n        if (this._parentGraph !== undefined) {\n            eventConfig = {\n                bubbles: false,\n                cancelable: true,\n                detail: {\n                    element: this,\n                    originalSource: originalSource\n                }\n            };\n\n            this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\n        }\n    };\n\n    proto.attachedCallback = function () {\n        var firstCall = parent.prototype.attachedCallback.call(this);\n\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.CartesianGraph || this.parentElement instanceof NationalInstruments.HtmlVI.Elements.Chart) {\n            this._parentGraph = this.parentElement;\n            this.addPlotItemListeners();\n            this.sendEventToParentGraph('ni-cartesian-plot-attached');\n        } else {\n            NI_SUPPORT.error('Plot with following id does not have a parentGraph', this.niControlId);\n            this._parentGraph = undefined;\n        }\n\n        return firstCall;\n    };\n\n    proto.addPlotItemListeners = function () {\n        var that = this;\n        that.addEventListener('ni-cartesian-plot-renderer-attached', function (evt) {\n            if (evt.target === that) {\n                this.plotRenderer = evt.detail.element;\n                this.sendEventToParentGraph('ni-cartesian-plot-renderer-attached', evt.detail.element);\n            }\n        });\n\n        that.addEventListener('ni-cartesian-plot-renderer-detached', function (evt) {\n            if (evt.target === that) {\n                this.plotRenderer = undefined;\n                this.sendEventToParentGraph('ni-cartesian-plot-renderer-detached', evt.detail.element);\n            }\n        });\n\n        that.addEventListener('ni-cartesian-plot-renderer-changed', function (evt) {\n            if (evt.target === that) {\n                this.sendEventToParentGraph('ni-cartesian-plot-renderer-changed', evt.detail.element);\n            }\n        });\n    };\n\n    proto.detachedCallback = function () {\n        parent.prototype.detachedCallback.call(this);\n\n        this.sendEventToParentGraph('ni-cartesian-plot-detached');\n        this._parentGraph = undefined;\n    };\n\n    proto.propertyUpdated = function (propertyName) {\n        parent.prototype.propertyUpdated.call(this, propertyName);\n\n        this.sendEventToParentGraph('ni-cartesian-plot-changed');\n    };\n\n    proto.getViewConfig = function () {\n        var plotConfig = defaultPlotConfig;\n        if (this.plotRenderer !== undefined && this.show === true) {\n            plotConfig = this.plotRenderer.getViewConfig();\n            plotConfig.hoverable = this.enableHover;\n        }\n\n        return plotConfig;\n    };\n\n    proto.defineElementInfo(proto, 'ni-cartesian-plot', 'HTMLNICartesianPlot');\n}(NationalInstruments.HtmlVI.Elements.CartesianPlot, NationalInstruments.HtmlVI.Elements.Visual));\n","/*jslint nomen: true, devel:true*/\n/*global NationalInstruments*/\n//****************************************\n// Cartesian Plot Renderer\n// DOM Registration: HTMLNICartesianPlotRenderer\n// National Instruments Copyright 2017\n//****************************************\n\n/**\n## ni-cartesian-plot-renderer\n\n> Describes the way a plot is rendered\n\nThe four ways to render a plot are the line renderer, the area fill renderer,\nthe points renderer and the bar renderer. You can combine these in any way you\nlike for a single plot and different plots can have different renderers.\n\nThe fastest one is the line renderer and this is the recomended one for large\ndata sets and if you care about performance.\n\nThe render can be further customized by using the renderer properties.\n*/\n// Constructor Function: Empty (Not Invoked)\nNationalInstruments.HtmlVI.Elements.CartesianPlotRenderer = function () {\n    'use strict';\n};\n\n// Static Public Variables\n// None\n\n(function (child, parent) {\n    'use strict';\n    // Static Private Reference Aliases\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n\n    NI_SUPPORT.inheritFromParent(child, parent);\n    var proto = child.prototype;\n\n    // Static Private Variables\n    // None\n\n    // Static Private Functions\n    // None\n\n    /** ### ni-cartesian-plot-renderer properties */\n    proto.addAllProperties = function (targetPrototype) {\n        parent.prototype.addAllProperties.call(this, targetPrototype);\n\n        /** **line-stroke** (string) - the color of the line drawn. Default: '#ff0000'.\n        Accepted values: a CSS color string or an empty string. If an empty string\n        is passed the line rendering for the plot is disabled.\n        */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'lineStroke',\n            defaultValue: '#ff0000'\n        });\n\n        /** **line-width** (number) - the width of the line. Use 1 for maximum\n        performance as thicker lines can be slower, depending on the browser and\n        the graphic card used. Default: 1*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'lineWidth',\n            defaultValue: 1\n        });\n\n        /** **line-style** (string) - the style of the line drawn. Default: 'solid'.\n        Accepted values: *'solid'*, *'dot'*, *'mediumdash'*, *'dashdot'* and *'largedash'*\n        */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'lineStyle',\n            defaultValue: 'solid'\n        });\n\n        /** **area-fill** (string) - the color of the area fill drawn under/over\n        the line. Default: ''.\n        Accepted values: a CSS color string or an empty string. If an empty string\n        is passed the area fill for the plot is disabled.\n        */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'areaFill',\n            defaultValue: ''\n        });\n\n        /**\n        **area-base-line** (string) - determines the direction the area fill.\n        Default: 'zero'. Accepted values:\n\n        * 'zero': fill the line towards 0\n        * '-infinity': fill the line towards -Infinity. TODO: this doesn't work yet\n        * 'infinity': fill the line towards Infinity. TODO: this doesn't work yet\n        */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'areaBaseLine',\n            defaultValue: 'zero'\n        });\n\n        /** **bar-fill** (string) - the color of the bars drawn. Default: ''.\n        Accepted values: a CSS color string or an empty string. If an empty string\n        is passed the bars rendering for the plot is disabled.\n        */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'barFill',\n            defaultValue: ''\n        });\n\n        /** **point-color** (string) - the color of the points drawn. Default: ''.\n        Accepted values: a CSS color string or an empty string. If an empty string\n        is passed the points rendering for the plot is disabled.\n        */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'pointColor',\n            defaultValue: ''\n        });\n\n        /** **point-size** (number) - the size of the points drawn. Default: 5.*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'pointSize',\n            defaultValue: 5\n        });\n\n        /** **point-shape** (string) - determines the shape of the points.\n        Default: 'ellipse'. Accepted values: 'ellipse', 'square', 'diamond',\n        'triangle', 'cross'\n        */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'pointShape',\n            defaultValue: 'ellipse'\n        });\n    };\n\n    proto.createdCallback = function () {\n        parent.prototype.createdCallback.call(this);\n\n        // Public Instance Properties\n        // None\n\n        // Private Instance Properties\n        this._parentPlot = undefined;\n    };\n\n    proto.sendEventToParentPlot = function (name) {\n        var eventConfig;\n\n        if (this._parentPlot !== undefined) {\n            eventConfig = {\n                bubbles: false,\n                cancelable: true,\n                detail: {\n                    element: this\n                }\n            };\n\n            this._parentPlot.dispatchEvent(new CustomEvent(name, eventConfig));\n        }\n    };\n\n    proto.attachedCallback = function () {\n        var firstCall = parent.prototype.attachedCallback.call(this);\n\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.CartesianPlot) {\n            this._parentPlot = this.parentElement;\n            this.sendEventToParentPlot('ni-cartesian-plot-renderer-attached');\n        } else {\n            NI_SUPPORT.error('Plot renderer with following id does not have a parentPlot', this.niControlId);\n            this._parentPlot = undefined;\n        }\n\n        return firstCall;\n    };\n\n    proto.propertyUpdated = function (propertyName) {\n        parent.prototype.propertyUpdated.call(this, propertyName);\n\n        this.sendEventToParentPlot('ni-cartesian-plot-renderer-changed');\n    };\n\n    proto.detachedCallback = function () {\n        parent.prototype.detachedCallback.call(this);\n\n        this.sendEventToParentPlot('ni-cartesian-plot-renderer-detached');\n    };\n\n    proto.toFlotLineStyle = function (style) {\n        switch (style) {\n            case 'solid':\n                return undefined;\n            case 'dot':\n                return [this.lineWidth, this.lineWidth * 2];\n            case 'mediumdash':\n                return [this.lineWidth * 3, this.lineWidth * 2];\n            case 'dashdot':\n                return [this.lineWidth * 3, this.lineWidth * 2, this.lineWidth, this.lineWidth * 2];\n            case 'largedash':\n                return [this.lineWidth * 5, this.lineWidth * 3];\n            default:\n                return undefined;\n        }\n    };\n\n    var areaFillOpacity = 0.6;\n\n    proto.getViewConfig = function () {\n        return {\n            color: this.lineStroke || this.pointColor || this.areaFill || this.barFill,\n            lines: {\n                show: this.lineStroke !== '' || this.areaFill !== '',\n                lineWidth: this.lineWidth,\n                fill: this.areaFill !== '' ? areaFillOpacity : false,\n                zero: false,\n                dashes: this.toFlotLineStyle(this.lineStyle)\n            },\n            points: {\n                show: this.pointColor !== '',\n                radius: this.pointSize ? this.pointSize / 2 : 2,\n                symbol: this.pointShape\n            },\n            bars: {\n                show: this.barFill !== '',\n                barWidth: 0.75, // TODO this is only valid if the distance between points is 1\n                align: 'center',\n                zero: false\n            }\n        };\n    };\n\n    proto.defineElementInfo(proto, 'ni-cartesian-plot-renderer', 'HTMLNICartesianPlotRenderer');\n}(NationalInstruments.HtmlVI.Elements.CartesianPlotRenderer, NationalInstruments.HtmlVI.Elements.Visual));\n","//****************************************\n// Cursor Custom Element\n// DOM Registration: No\n// National Instruments Copyright 2015\n//****************************************\n\n// Constructor Function: Empty (Not Invoked)\nNationalInstruments.HtmlVI.Elements.Cursor = function () {\n    'use strict';\n};\n\n// Static Public Variables\n// None\n\n(function (child, parent) {\n    'use strict';\n    // Static Private Reference Aliases\n    var $ = NationalInstruments.Globals.jQuery;\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n\n    NI_SUPPORT.inheritFromParent(child, parent);\n    var proto = child.prototype;\n\n    // Static Private Functions\n    // None\n\n    // Public Prototype Methods\n    proto.addAllProperties = function (targetPrototype) {\n        parent.prototype.addAllProperties.call(this, targetPrototype);\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'label',\n            defaultValue: ''\n        });\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'targetShape',\n            defaultValue: 'ellipse'\n        });\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'cursorColor',\n            defaultValue: '#000000'\n        });\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'crosshairStyle',\n            defaultValue: 'both'\n        });\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'show',\n            defaultValue: false\n        });\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'showLabel',\n            defaultValue: false\n        });\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'showValue',\n            defaultValue: false\n        });\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'snapToData',\n            defaultValue: false\n        });\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'x',\n            defaultValue: 0.5\n        });\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'y',\n            defaultValue: 0.5\n        });\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'fontFamily',\n            defaultValue: 'sans-serif'\n        });\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'fontSize',\n            defaultValue: '10px'\n        });\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'fontStyle',\n            defaultValue: ''\n        });\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'fontWeight',\n            defaultValue: ''\n        });\n    };\n\n    proto.createdCallback = function () {\n        parent.prototype.createdCallback.call(this);\n\n        // Public Instance Properties\n        this.cursor = null;\n\n        // Private Instance Properties\n        this._parentGraph = undefined;\n    };\n\n    proto.sendEventToParentGraph = function (name) {\n        var eventConfig;\n\n        if (this._parentGraph !== undefined) {\n            eventConfig = {\n                bubbles: true,\n                cancelable: true,\n                detail: {\n                    element: this\n                }\n            };\n\n            this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\n        }\n    };\n\n    proto.attachedCallback = function () {\n        var firstCall = parent.prototype.attachedCallback.call(this);\n\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.CartesianGraph ||\n            this.parentElement instanceof NationalInstruments.HtmlVI.Elements.Chart) {\n            this._parentGraph = this.parentElement;\n            this.sendEventToParentGraph('ni-cursor-attached');\n        } else {\n            NI_SUPPORT.error('Cursor with the following id does not have a parentGraph', this.niControlId);\n            this._parentGraph = undefined;\n        }\n\n        return firstCall;\n    };\n\n    proto.propertyUpdated = function (propertyName) {\n        parent.prototype.propertyUpdated.call(this, propertyName);\n\n        this.sendEventToParentGraph('ni-cursor-changed');\n    };\n\n    proto.detachedCallback = function () {\n        parent.prototype.detachedCallback.call(this);\n\n        this.sendEventToParentGraph('ni-cursor-detached');\n        this._parentGraph = undefined;\n    };\n\n    proto.setCursor = function (cursor) {\n        this.cursor = cursor;\n    };\n\n    proto.updateCursorElement = function (data) {\n        // TODO mraj this._x and this._y are underlying private properties and should not be assigned to directly\n        this._x = this.cursor.position.relativeX;\n        this._y = this.cursor.position.relativeY;\n        $(this).trigger('cursorUpdated', data);\n    };\n\n    proto.getViewConfig = function () {\n        var style = window.getComputedStyle(this);\n        var crosshairStyle =  this.crosshairStyle;\n        var mode;\n\n        if (crosshairStyle === 'both') {\n            mode = 'xy';\n        } else if (crosshairStyle === 'horizontal') {\n            mode = 'y';\n        } else if (crosshairStyle === 'vertical') {\n            mode = 'x';\n        } else if (crosshairStyle === 'none') {\n            mode = '';\n        } else {\n            mode = null;\n        }\n\n        return {\n            show: this.show,\n            showLabel: this.showLabel,\n            showValuesRelativeToSeries: this.showValue ? 0 : undefined,\n            name: this.label,\n            color: this.cursorColor,\n            snapToPlot: this.snapToData ? 0 : undefined,\n            mode: mode,\n            symbol: this.targetShape,\n            fontSize: style.fontSize,\n            fontFamily: style.fontFamily,\n            fontStyle: style.fontStyle,\n            fontWeight: style.fontWeight,\n            position: {\n                relativeX: this.x,\n                relativeY: this.y\n            }\n        };\n    };\n\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle, textDecoration) {\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle, textDecoration);\n        this.sendEventToParentGraph('ni-cursor-changed');\n    };\n\n    proto.defineElementInfo(proto, 'ni-cursor', 'HTMLNICursor');\n}(NationalInstruments.HtmlVI.Elements.Cursor, NationalInstruments.HtmlVI.Elements.Visual));\n"]}